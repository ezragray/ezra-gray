<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ezra Gray</title>
<style>

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #fff;
  font-family: 'Courier New', Courier, monospace;
  font-size: 11px;
  line-height: 1.3;
  color: #000;
  -webkit-font-smoothing: antialiased;
  overflow-x: hidden;
}

/* ══════════════════════════════════════
   LAYOUT
   Sidebar is fixed left. Page scrolls
   behind it. Home images start at the
   left edge of the viewport (50%) and
   extend right — underlapping the sidebar
   is fine, the sidebar sits on top.
══════════════════════════════════════ */

.sidebar {
  position: fixed;
  top: 0; left: 0;
  width: 215px;
  height: 100vh;
  overflow-y: auto;
  padding: 26px 18px 40px 22px;
  scrollbar-width: none;
  z-index: 20;
  background: #fff;
}
.sidebar::-webkit-scrollbar { display: none; }

/* The page body scrolls; no wrapper flex needed for desktop */
.page-content {
  /* Normal flow, sidebar overlaps left side */
}

/* ── SIDEBAR TYPE ── */
.sidebar a,
.sidebar span.lnk {
  font-family: 'Courier New', Courier, monospace;
  font-size: 11px;
  color: #000;
  text-decoration: none;
  cursor: pointer;
  display: inline;
  line-height: 1.3;
}
.sidebar a:hover,
.sidebar span.lnk:hover {
  text-decoration: underline;
  text-underline-offset: 2px;
}

.site-name { margin-bottom: 12px; display: block; }
.nav-links  { margin-bottom: 16px; }
.nav-links a { display: block; line-height: 1.6; }

/* ── EXH LIST ── */
.exh-list { font-size: 11px; }
.exh-section-label { display: block; margin-bottom: 4px; }
.yr  { display: block; margin-top: 8px; margin-bottom: 1px; color: #999; }
.entry {
  display: block; margin-bottom: 5px;
  line-height: 1.3; font-size: 11px;
}
.entry .venue { display: block; color: #666; font-size: 11px; line-height: 1.3; }
.grp-section  { display: block; margin-top: 18px; margin-bottom: 4px; }

/* ── VIEWS (desktop) ── */
.view { display: none; }
.view.active { display: block; }

/* ══════════════════════════════════════
   HOME VIEW — desktop
   Images start at 50vw (screen centre),
   extend rightward. Non-interactive.
   Sidebar sits on top via z-index.
══════════════════════════════════════ */
#view-home {
  min-height: 100vh;
  padding: 36px 0 100px 0;
}

.home-stream {
  display: flex;
  flex-direction: column;
  gap: 64px;
  /* start at screen centre */
  margin-left: 50vw;
  /* extend to right edge minus small margin */
  width: calc(50vw - 24px);
}

.home-stream img {
  display: block;
  width: 100%;
  pointer-events: none;
  user-select: none;
  -webkit-user-drag: none;
  opacity: 0.93;
}

/* ══════════════════════════════════════
   EXHIBITION DETAIL (desktop)
══════════════════════════════════════ */
.exh-view {
  margin-left: 215px;
  padding: 26px 26px 80px 0;
}

.back-btn {
  display: inline-block;
  font-family: 'Courier New', Courier, monospace;
  font-size: 11px; color: #000;
  cursor: pointer; background: none; border: none;
  padding: 0; margin-bottom: 14px;
}
.back-btn:hover { text-decoration: underline; text-underline-offset: 2px; }

.exh-title {
  font-size: 11px; font-weight: normal; line-height: 1.3;
}
.exh-meta {
  font-size: 11px; color: #666; line-height: 1.4; margin-bottom: 16px;
}

/* ── CAROUSEL ── */
.carousel-wrap {
  overflow: hidden; background: #f2f2f2;
  cursor: grab; margin-bottom: 6px;
}
.carousel-wrap:active { cursor: grabbing; }
.carousel-track {
  display: flex;
  transition: transform 0.3s ease;
  will-change: transform;
}
.carousel-track img {
  min-width: 100%; width: 100%;
  max-height: 78vh;
  object-fit: contain; object-position: center;
  display: block;
  user-select: none; -webkit-user-drag: none;
  cursor: zoom-in;
}
.carousel-controls {
  display: flex; justify-content: space-between; align-items: center;
  margin-bottom: 14px;
}
.carousel-counter { font-size: 10px; color: #bbb; }
.carousel-btns { display: flex; gap: 10px; }
.c-btn {
  background: none; border: none;
  font-family: 'Courier New', Courier, monospace;
  font-size: 11px; cursor: pointer; color: #000; padding: 0;
}
.c-btn:hover { text-decoration: underline; }

/* ── AUDIO ── */
.audio-block {
  margin-bottom: 14px; padding: 6px 0 4px;
  border-top: 1px solid #e8e8e8; border-bottom: 1px solid #e8e8e8;
}
.audio-label { font-size: 10px; color: #bbb; margin-bottom: 4px; }
.audio-block audio { width: 100%; height: 26px; display: block; }

/* ── TEXT BUTTON ── */
.text-btn {
  display: inline-block;
  font-family: 'Courier New', Courier, monospace;
  font-size: 11px; color: #000;
  cursor: pointer; background: none; border: none; padding: 0;
  margin-bottom: 14px;
  text-decoration: underline; text-underline-offset: 2px;
}

/* ── TEXT MODAL ── */
.text-modal-overlay {
  display: none; position: fixed; inset: 0;
  background: rgba(255,255,255,0.97);
  z-index: 200; overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  padding: 32px 28px 70px;
}
.text-modal-overlay.open { display: block; }
.text-modal-inner {
  max-width: 560px; margin: 0 auto;
  font-family: 'Courier New', Courier, monospace;
  font-size: 11px; line-height: 1.7; white-space: pre-wrap;
}
.text-modal-close {
  display: block; font-family: 'Courier New', Courier, monospace;
  font-size: 11px; cursor: pointer;
  background: none; border: none; padding: 0; margin-bottom: 24px;
}
.text-modal-close:hover { text-decoration: underline; }

/* ── LIGHTBOX ── */
.lightbox {
  display: none; position: fixed; inset: 0;
  background: #000; z-index: 300;
  align-items: center; justify-content: center; cursor: zoom-out;
}
.lightbox.open { display: flex; }
.lightbox img {
  max-width: 100%; max-height: 100%;
  object-fit: contain; display: block; pointer-events: none;
}
.lightbox-close {
  position: fixed; top: 14px; right: 18px;
  font-family: 'Courier New', Courier, monospace;
  font-size: 11px; color: #fff; cursor: pointer;
  background: none; border: none; z-index: 301; opacity: 0.5;
}
.lightbox-close:hover { opacity: 1; }

/* ── CONTACT ── */
.contact-info { font-size: 11px; line-height: 1.7; color: #666; }
#view-contact { margin-left: 215px; padding: 26px 26px 80px 0; }

/* ══════════════════════════════════════
   MOBILE ACCORDION PANEL
   (hidden on desktop, visible on mobile)
══════════════════════════════════════ */
.exh-panel {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.5s ease;
}
.exh-panel.open {
  max-height: 9000px;
  transition: max-height 0.7s ease;
}

@media (min-width: 681px) {
  .exh-panel { display: none !important; }
  .entry.solo { cursor: pointer; }
  .entry.solo:hover em { text-decoration: underline; text-underline-offset: 2px; }
}

/* ══════════════════════════════════════
   MOBILE (≤680px)
══════════════════════════════════════ */
@media (max-width: 680px) {

  /* sidebar becomes static top nav */
  .sidebar {
    position: relative; width: 100%; height: auto;
    padding: 14px 14px 8px 14px;
    overflow: visible;
    border-bottom: 1px solid #eee;
  }

  /* hide desktop views */
  .view { display: none !important; }

  /* accordion panels visible */
  .exh-panel { display: block !important; }
  .exh-panel-inner { padding: 8px 0 16px; }

  /* carousel full bleed */
  .exh-panel .carousel-wrap {
    margin-left: -14px; margin-right: -14px; margin-bottom: 4px;
  }
  .exh-panel .carousel-track img { max-height: 70vw; min-height: 48vw; }
  .exh-panel .carousel-controls  { padding: 6px 0; margin-bottom: 8px; }
  .exh-panel .audio-block { margin: 0 0 12px; }
  .exh-panel .text-btn    { margin-bottom: 10px; }

  /* mobile homescreen images:
     right-justified, width ~50vw, spaced generously */
  #mobile-home {
    padding: 20px 14px 40px 0;
    display: flex;
    flex-direction: column;
    align-items: flex-end;   /* right-justify */
    gap: 48px;
  }
  #mobile-home img {
    display: block;
    width: 52vw;             /* just past midpoint */
    pointer-events: none; user-select: none; opacity: 0.93;
  }
  #mobile-home.hidden    { display: none !important; }

  #mobile-contact { padding: 14px 0 6px; }
  #mobile-contact.hidden { display: none; }

  .text-modal-overlay { padding: 18px 14px 60px; }
  .site-name { margin-bottom: 8px; }
  .nav-links  { margin-bottom: 10px; }
  .yr         { margin-top: 6px; }
  .entry      { margin-bottom: 4px; }
}

</style>
</head>
<body>

<!-- LIGHTBOX -->
<div class="lightbox" id="lightbox" onclick="closeLightbox()">
  <button class="lightbox-close" onclick="closeLightbox()">✕ close</button>
  <img id="lightbox-img" src="" alt="">
</div>

<!-- TEXT MODAL -->
<div class="text-modal-overlay" id="text-modal">
  <button class="text-modal-close" onclick="closeTextModal()">✕ close</button>
  <div class="text-modal-inner" id="text-modal-content"></div>
</div>

<!-- ══════════════════════════════════════
     SIDEBAR (fixed on desktop, static on mobile)
══════════════════════════════════════ -->
<div class="sidebar">

  <div class="site-name">
    <span class="lnk" onclick="showHome()">Ezra Gray</span>
  </div>

  <div class="nav-links">
    <a onclick="showHome()">Home</a>
    <a onclick="showContact()">Contact</a>
  </div>

  <div class="exh-list">

    <!-- ── SOLO ── -->
    <span class="exh-section-label">Solo exhibitions</span>

    <span class="yr">2025</span>
    <span class="entry solo" id="entry-artissima" onclick="toggleExh('artissima')">
      <em>Artissima</em>
      <span class="venue">Artissima, Turin</span>
    </span>
    <div class="exh-panel" id="panel-artissima">
      <div class="exh-panel-inner" id="panel-inner-artissima"></div>
    </div>

    <span class="yr">2024</span>
    <span class="entry solo" id="entry-sweetie" onclick="toggleExh('sweetie')">
      <em>Sweetie (Relationships Play Out)</em>
      <span class="venue">Unit 17, Vancouver</span>
    </span>
    <div class="exh-panel" id="panel-sweetie">
      <div class="exh-panel-inner" id="panel-inner-sweetie"></div>
    </div>

    <span class="yr">2020</span>
    <span class="entry solo" id="entry-maximumyearn" onclick="toggleExh('maximumyearn')">
      <em>Maximum Yearn</em>
      <span class="venue">Unit 17, Vancouver</span>
    </span>
    <div class="exh-panel" id="panel-maximumyearn">
      <div class="exh-panel-inner" id="panel-inner-maximumyearn"></div>
    </div>

    <span class="yr">2018</span>
    <span class="entry solo" id="entry-joechgod" onclick="toggleExh('joechgod')">
      <em>Joech God</em>
      <span class="venue">Emalin, London</span>
    </span>
    <div class="exh-panel" id="panel-joechgod">
      <div class="exh-panel-inner" id="panel-inner-joechgod"></div>
    </div>

    <span class="yr">2017</span>
    <span class="entry solo" id="entry-brownspace" onclick="toggleExh('brownspace')">
      <em>Brown Space</em>
      <span class="venue">Almanac Inn, Turin</span>
    </span>
    <div class="exh-panel" id="panel-brownspace">
      <div class="exh-panel-inner" id="panel-inner-brownspace"></div>
    </div>

    <span class="entry solo" id="entry-infinitive" onclick="toggleExh('infinitive')">
      <em>Infinitive</em>
      <span class="venue">Jeffrey Stark, New York City</span>
    </span>
    <div class="exh-panel" id="panel-infinitive">
      <div class="exh-panel-inner" id="panel-inner-infinitive"></div>
    </div>

    <span class="yr">2016</span>
    <span class="entry solo" id="entry-honolulu" onclick="toggleExh('honolulu')">
      <em>Honolulu</em>
      <span class="venue">with Sean Nicholas Savage<br>Gallery Honolulu, Zurich</span>
    </span>
    <div class="exh-panel" id="panel-honolulu">
      <div class="exh-panel-inner" id="panel-inner-honolulu"></div>
    </div>

    <!-- ── GROUP ── -->
    <span class="grp-section">Group exhibitions</span>

    <span class="yr">2025</span>
    <span class="entry">
      <a href="https://rinomina.com/exhibition/should-be-allowed-could-be-forbidden-must-be-wanted-can-be-done-can-be-but-does-not-have-to/" target="_blank"><em>Should be allowed, could be forbidden...</em></a>
      <span class="venue">Rinomina, Paris<br>Oct 14 – Dec 18, 2025</span>
    </span>
    <span class="entry">
      <em>The 12th House</em>, <a href="https://www.instagram.com/thewhiteermine/" target="_blank">The White Ermine</a>
      <span class="venue">Düsseldorf<br>Mar 22 – Jun 2025</span>
    </span>
    <span class="entry">
      <a href="https://www.instagram.com/hisssss________/" target="_blank"><em>Hisssss</em></a>
      <span class="venue">Los Angeles, May 27, 2025</span>
    </span>

    <span class="yr">2024</span>
    <span class="entry">
      <a href="https://mediump.com/Sofia-Duchovny-Ezra-Grey-brains-2024" target="_blank"><em>Brains</em></a> w/ Sophia Duchovny,
      <a href="https://www.instagram.com/_mediump_/" target="_blank">Medium P</a>
      <span class="venue">Berlin<br>Dec 13, 2024 – Mar 31, 2025</span>
    </span>

    <span class="yr">2021</span>
    <span class="entry">
      <a href="https://imlabor.org/twobytwobytwo/011/" target="_blank"><em>Nothing but Murmurs</em></a>
      <span class="venue">2x2x2 by im labor, Tokyo<br>Sep 19 – Oct 23, 2021</span>
    </span>

    <span class="yr">2019</span>
    <span class="entry">
      <a href="https://www.unit17.org/super-natural" target="_blank"><em>SUPER NATURAL</em></a>
      <span class="venue">Unit 17, Vancouver<br>Jan 26 – Mar 17, 2019</span>
    </span>

    <span class="yr">2017</span>
    <span class="entry">
      <a href="http://maxruf.com/Samstag_05.08..pdf" target="_blank"><em>Samstag</em></a>
      <span class="venue">Keifholzstrasse 401, Berlin<br>Aug 5, 2017</span>
    </span>

    <span class="yr">2016</span>
    <span class="entry">
      <a href="https://viktorwang.com/With-Institutions-Like-These" target="_blank"><em>With Institutions Like These…</em></a>
      <span class="venue">Lancaster Gate, London<br>Mar 19 – Apr 10, 2016</span>
    </span>
    <span class="entry">
      <a href="https://emalin.co.uk/exhibitions/folly" target="_blank"><em>Folly</em></a>
      <span class="venue">Emalin Projects, Scotland<br>Mar 26 – 28, 2016</span>
    </span>

    <span class="yr">2014</span>
    <span class="entry">
      <em>Rundgang</em>
      <span class="venue">Kunstakademie Düsseldorf, Feb 2014</span>
    </span>

    <span class="yr">2013</span>
    <span class="entry">
      <em>A process of recognition</em>
      <span class="venue">Battat Contemporary, Montréal<br>Feb 28 – Apr 13, 2013</span>
    </span>

    <span class="yr">2012</span>
    <span class="entry">
      <em>6 POSITION</em>
      <span class="venue">WWTWO, Montréal, Nov 2012</span>
    </span>

  </div><!-- /exh-list -->

  <!-- Mobile-only: home images + contact -->
  <div id="mobile-home"></div>
  <div id="mobile-contact" class="hidden">
    <div class="contact-info">
      Paris, France<br><br>
      ezragray&#64;gmail&#46;com
    </div>
  </div>

</div><!-- /sidebar -->

<!-- ══════════════════════════════════════
     PAGE CONTENT (desktop)
     All views live here. The sidebar
     overlaps the left side — home images
     start at 50vw so they show to the right.
══════════════════════════════════════ -->
<div class="page-content">

  <!-- HOME -->
  <div id="view-home" class="view active">
    <div class="home-stream" id="home-stream">
      <!-- populated by JS from HOMESCREEN array -->
    </div>
  </div>

  <!-- ── ARTISSIMA 2025 ── -->
  <div id="view-artissima" class="view exh-view">
    <button class="back-btn" onclick="showHome()">← back</button>
    <div class="exh-title">Artissima</div>
    <div class="exh-meta" id="meta-artissima">2025 · Artissima, Turin</div>
    <div class="carousel-wrap" id="car-artissima">
      <div class="carousel-track" id="track-artissima"></div>
    </div>
    <div class="carousel-controls">
      <span class="carousel-counter" id="cnt-artissima">– / –</span>
      <div class="carousel-btns">
        <button class="c-btn" onclick="cMove('artissima',-1)">← prev</button>
        <button class="c-btn" onclick="cMove('artissima',1)">next →</button>
      </div>
    </div>
    <button class="text-btn" onclick="openTextModal('Artissima2025')">Text</button>
  </div>

  <!-- ── SWEETIE ── -->
  <div id="view-sweetie" class="view exh-view">
    <button class="back-btn" onclick="showHome()">← back</button>
    <div class="exh-title">Sweetie (Relationships Play Out)</div>
    <div class="exh-meta">Solo exhibition · 7 March – 11 May 2024 · Unit 17, Vancouver</div>
    <div class="carousel-wrap" id="car-sweetie">
      <div class="carousel-track" id="track-sweetie"></div>
    </div>
    <div class="carousel-controls">
      <span class="carousel-counter" id="cnt-sweetie">– / –</span>
      <div class="carousel-btns">
        <button class="c-btn" onclick="cMove('sweetie',-1)">← prev</button>
        <button class="c-btn" onclick="cMove('sweetie',1)">next →</button>
      </div>
    </div>
    <button class="text-btn" onclick="openTextModal('Sweetie (Relationships Play Out) @ Unit 17, Vancouver')">Text</button>
  </div>

  <!-- ── MAXIMUM YEARN ── -->
  <div id="view-maximumyearn" class="view exh-view">
    <button class="back-btn" onclick="showHome()">← back</button>
    <div class="exh-title">Maximum Yearn</div>
    <div class="exh-meta">Solo exhibition · August 2020 · Unit 17, Vancouver</div>
    <div class="carousel-wrap" id="car-maximumyearn">
      <div class="carousel-track" id="track-maximumyearn"></div>
    </div>
    <div class="carousel-controls">
      <span class="carousel-counter" id="cnt-maximumyearn">– / –</span>
      <div class="carousel-btns">
        <button class="c-btn" onclick="cMove('maximumyearn',-1)">← prev</button>
        <button class="c-btn" onclick="cMove('maximumyearn',1)">next →</button>
      </div>
    </div>
    <div class="audio-block">
      <div class="audio-label">Hey Can You Hear Me? — audio</div>
      <audio controls><source src="maxmium yearn/maximumyearn-sm.mp3" type="audio/mpeg"></audio>
    </div>
    <button class="text-btn" onclick="openTextModal('maxmium yearn')">Text</button>
  </div>

  <!-- ── JOECH GOD ── -->
  <div id="view-joechgod" class="view exh-view">
    <button class="back-btn" onclick="showHome()">← back</button>
    <div class="exh-title">Joech God</div>
    <div class="exh-meta">Solo exhibition · July 2018 · Emalin, London</div>
    <div class="carousel-wrap" id="car-joechgod">
      <div class="carousel-track" id="track-joechgod"></div>
    </div>
    <div class="carousel-controls">
      <span class="carousel-counter" id="cnt-joechgod">– / –</span>
      <div class="carousel-btns">
        <button class="c-btn" onclick="cMove('joechgod',-1)">← prev</button>
        <button class="c-btn" onclick="cMove('joechgod',1)">next →</button>
      </div>
    </div>
    <button class="text-btn" onclick="openTextModal('joech god')">Text</button>
  </div>

  <!-- ── BROWN SPACE ── -->
  <div id="view-brownspace" class="view exh-view">
    <button class="back-btn" onclick="showHome()">← back</button>
    <div class="exh-title">Brown Space</div>
    <div class="exh-meta">Solo exhibition · February 2017 · Almanac Inn, Turin</div>
    <div class="carousel-wrap" id="car-brownspace">
      <div class="carousel-track" id="track-brownspace"></div>
    </div>
    <div class="carousel-controls">
      <span class="carousel-counter" id="cnt-brownspace">– / –</span>
      <div class="carousel-btns">
        <button class="c-btn" onclick="cMove('brownspace',-1)">← prev</button>
        <button class="c-btn" onclick="cMove('brownspace',1)">next →</button>
      </div>
    </div>
    <button class="text-btn" onclick="openTextModal('Brown Space')">Text</button>
  </div>

  <!-- ── INFINITIVE ── -->
  <div id="view-infinitive" class="view exh-view">
    <button class="back-btn" onclick="showHome()">← back</button>
    <div class="exh-title">Infinitive</div>
    <div class="exh-meta">Solo exhibition · February 2017 · Jeffrey Stark, New York City</div>
    <div class="carousel-wrap" id="car-infinitive">
      <div class="carousel-track" id="track-infinitive"></div>
    </div>
    <div class="carousel-controls">
      <span class="carousel-counter" id="cnt-infinitive">– / –</span>
      <div class="carousel-btns">
        <button class="c-btn" onclick="cMove('infinitive',-1)">← prev</button>
        <button class="c-btn" onclick="cMove('infinitive',1)">next →</button>
      </div>
    </div>
    <div class="audio-block">
      <div class="audio-label">Infinitive ft. Sean Nicholas Savage — audio</div>
      <audio controls><source src="Infinitive/Infinitive_ft_Sean_Nicholas_Savage.mp3" type="audio/mpeg"></audio>
    </div>
    <button class="text-btn" onclick="openTextModal('Infinitive')">Text</button>
  </div>

  <!-- ── HONOLULU ── -->
  <div id="view-honolulu" class="view exh-view">
    <button class="back-btn" onclick="showHome()">← back</button>
    <div class="exh-title">Honolulu</div>
    <div class="exh-meta">September 2016 · Gallery Honolulu, Zurich · with Sean Nicholas Savage</div>
    <div class="carousel-wrap" id="car-honolulu">
      <div class="carousel-track" id="track-honolulu"></div>
    </div>
    <div class="carousel-controls">
      <span class="carousel-counter" id="cnt-honolulu">– / –</span>
      <div class="carousel-btns">
        <button class="c-btn" onclick="cMove('honolulu',-1)">← prev</button>
        <button class="c-btn" onclick="cMove('honolulu',1)">next →</button>
      </div>
    </div>
    <button class="text-btn" onclick="openTextModal('honolulu')">Text</button>
  </div>

  <!-- ── CONTACT ── -->
  <div id="view-contact" class="view">
    <div class="contact-info">
      Paris, France<br><br>
      ezragray&#64;gmail&#46;com
    </div>
  </div>

</div><!-- /page-content -->

<script>
/* ══════════════════════════════════════════════════════
   EXHIBITION CONFIG
   ─────────────────────────────────────────────────────
   Each solo exhibition lists its folder and images in
   ALPHABETICAL ORDER. This is the single source of truth
   for both the desktop carousel and the mobile accordion.

   To update an exhibition:
   • Add/remove/rename filenames in the images[] array
   • Keep them alphabetically sorted
   • The folder name must match exactly (case-sensitive on server)
══════════════════════════════════════════════════════ */
var EXH = {

  artissima: {
    folder: 'Artissima2025',
    images: [
      /* Add filenames here alphabetically once folder is populated */
      /* e.g. 'DSC_0001.jpg', 'DSC_0002.jpg', */
    ],
    audio: null,
    hasText: true
  },

  sweetie: {
    folder: 'Sweetie (Relationships Play Out) @ Unit 17, Vancouver',
    images: [
      /* All images from this folder, alphabetical order.
         Update this list if you rename or add files. */
      'EzraGray-Sweetie-RelationshipsPlayOut.jpg',
      '_DSC6830.jpg', '_DSC6832.jpg', '_DSC6835.jpg', '_DSC6837.jpg',
      '_DSC6842.jpg', '_DSC6853.jpg', '_DSC6855.jpg', '_DSC6856.jpg',
      '_DSC6857.jpg', '_DSC6861.jpg', '_DSC6868.jpg', '_DSC6869.jpg',
      '_DSC6876.jpg', '_DSC6879.jpg', '_DSC6883.jpg', '_DSC6886.jpg',
      '_DSC6889.jpg', '_DSC6894.jpg', '_DSC6900.jpg', '_DSC6901.jpg',
      '_DSC6909.jpg', '_DSC6915.jpg', '_DSC6917.jpg', '_DSC6921.jpg',
      '_DSC6922-2.jpg', '_DSC6928.jpg', '_DSC6933.jpg', '_DSC6934.jpg',
      '_DSC6936.jpg', '_DSC6950.jpg', '_DSC6952.jpg', '_DSC6953.jpg',
      '_DSC6961.jpg', '_DSC6962.jpg', '_DSC6965.jpg', '_DSC6971.jpg',
      '_DSC6974.jpg'
    ],
    audio: null,
    hasText: true
  },

  maximumyearn: {
    folder: 'maxmium yearn',
    images: [
      'Unit17-EzraGray-MaximumYearn-ComeonWilly (1).webp',
      'Unit17-EzraGray-MaximumYearn-Guido.webp',
      'Unit17-EzraGray-MaximumYearn-LipsSync2_j.webp',
      'Unit17-EzraGray-MaximumYearn-LipsSync3_j.webp',
      'Unit17-EzraGray-MaximumYearn-OldBatch_jp.webp',
      'Unit17-EzraGray-MaximumYearn-Untitled2_j.webp',
      'Unit17-EzraGray-MaximumYearn-Untitled_jp.webp',
      'Unit17-EzraGray-MaximumYearn13.webp',
      'Unit17-EzraGray-MaximumYearn2.webp',
      'Unit17-EzraGray-MaximumYearn4.webp',
      'Unit17-EzraGray-MaximumYearn5.webp',
      'Unit17-EzraGray-MaximumYearn6 (1).webp'
    ],
    audio: { src: 'maxmium yearn/maximumyearn-sm.mp3', label: 'Hey Can You Hear Me? — audio' },
    hasText: true
  },

  joechgod: {
    folder: 'joech god',
    images: [
      '180703-Emalin-1-_MGL2562.jpg',  '180703-Emalin-10-_MGL2582.jpg',
      '180703-Emalin-11-_MGL2583.jpg', '180703-Emalin-12-_MGL2585.jpg',
      '180703-Emalin-13-_MGL2587.jpg', '180703-Emalin-14-_MGL2588.jpg',
      '180703-Emalin-15-_MGL2589.jpg', '180703-Emalin-16-_MGL2590.jpg',
      '180703-Emalin-17-_MGL2591.jpg', '180703-Emalin-18-_MGL2592.jpg',
      '180703-Emalin-19-_MGL2593.jpg', '180703-Emalin-2-_MGL2564.jpg',
      '180703-Emalin-20-_MGL2594.jpg', '180703-Emalin-21-_MGL2600.jpg',
      '180703-Emalin-22-_MGL2601.jpg', '180703-Emalin-23-_MGL2602.jpg',
      '180703-Emalin-24-_MGL2603.jpg', '180703-Emalin-25-_MGL2604.jpg',
      '180703-Emalin-3-_MGL2566.jpg',  '180703-Emalin-4-_MGL2569.jpg',
      '180703-Emalin-5-_MGL2571.jpg',  '180703-Emalin-6-_MGL2572.jpg',
      '180703-Emalin-7-_MGL2576.jpg',  '180703-Emalin-8-_MGL2577.jpg',
      '180703-Emalin-9-_MGL2581.jpg'
    ],
    audio: null,
    hasText: true
  },

  brownspace: {
    folder: 'Brown Space',
    images: [
      'IMG_8200.jpg', 'IMG_8208.jpg', 'IMG_8216.jpg', 'IMG_8223.jpg',
      'IMG_8229 (1).jpg', 'IMG_8244 (1).jpg', 'IMG_8254.jpg'
    ],
    audio: null,
    hasText: true
  },

  infinitive: {
    folder: 'Infinitive',
    images: [
      'Copy of JS.Inst_04.jpg', 'Copy of JS.Inst_05.jpg',
      'Copy of JS.Inst_06.jpg', 'JS.Inst_07.jpg'
    ],
    audio: { src: 'Infinitive/Infinitive_ft_Sean_Nicholas_Savage.mp3', label: 'Infinitive ft. Sean Nicholas Savage — audio' },
    hasText: true
  },

  honolulu: {
    folder: 'honolulu',
    images: [
      'Installation_1.jpg', 'Installation_2.jpg',
      'Installation_3.jpg', 'Installation_4 (1).jpg'
    ],
    audio: null,
    hasText: true
  }

};

/* ══════════════════════════════════════════════════════
   HOMESCREEN IMAGES
   ─────────────────────────────────────────────────────
   Add filenames from the Homescreen/ folder here,
   in alphabetical order (or the order you prefer).
   Desktop: images start at screen centre, extend right.
   Mobile: images are ~52vw wide, right-justified.
══════════════════════════════════════════════════════ */
var HOMESCREEN = [
  /* 'image01.jpg', */
  /* 'image02.jpg', */
];

/* ══════════════════════════════════════════════════════
   CAROUSEL BUILDER
   Populates a track element with images from EXH config
══════════════════════════════════════════════════════ */
function buildTrack(trackEl, folder, images) {
  trackEl.innerHTML = '';
  images.forEach(function(fn) {
    var img = document.createElement('img');
    img.src = folder + '/' + fn;
    img.alt = '';
    img.onclick = function() { openLightbox(this); };
    trackEl.appendChild(img);
  });
}

function updateCounter(cntId, index, total) {
  var el = document.getElementById(cntId);
  if (el) el.textContent = total === 0 ? '–' : (index + 1) + ' / ' + total;
}

/* ══════════════════════════════════════════════════════
   STATE
══════════════════════════════════════════════════════ */
var carState   = {};
var builtDesk  = {};
var builtPanel = {};
var openPanel  = null;
var _drag      = false;

function isMobile() { return window.innerWidth <= 680; }

/* ══════════════════════════════════════════════════════
   DESKTOP CAROUSEL — lazy-build on first showExh()
══════════════════════════════════════════════════════ */
function ensureDesktopCarousel(key) {
  if (builtDesk[key]) return;
  builtDesk[key] = true;
  var cfg   = EXH[key];
  var track = document.getElementById('track-' + key);
  if (!track) return;
  buildTrack(track, cfg.folder, cfg.images);
  carState[key] = 0;
  updateCounter('cnt-' + key, 0, cfg.images.length);
  var wrap = document.getElementById('car-' + key);
  if (wrap) initSwipe(wrap, track, 'cnt-' + key, key);
}

/* ══════════════════════════════════════════════════════
   CAROUSEL MOVEMENT
══════════════════════════════════════════════════════ */
function cMove(key, dir) {
  ensureDesktopCarousel(key);
  var track = document.getElementById('track-' + key);
  if (!track || track.children.length === 0) return;
  var n = track.children.length;
  carState[key] = ((carState[key] || 0) + dir + n) % n;
  track.style.transform = 'translateX(-' + (carState[key] * 100) + '%)';
  updateCounter('cnt-' + key, carState[key], n);
}

function mobMove(key, dir) {
  var sk    = 'mob-' + key;
  var track = document.getElementById('mob-track-' + key);
  if (!track || track.children.length === 0) return;
  var n = track.children.length;
  carState[sk] = ((carState[sk] || 0) + dir + n) % n;
  track.style.transform = 'translateX(-' + (carState[sk] * 100) + '%)';
  updateCounter('mob-cnt-' + key, carState[sk], n);
}

/* ══════════════════════════════════════════════════════
   SWIPE / DRAG
══════════════════════════════════════════════════════ */
function initSwipe(wrap, track, cntId, stateKey) {
  var sx = 0, sy = 0, dragging = false;
  wrap.addEventListener('touchstart', function(e) {
    sx = e.touches[0].clientX; sy = e.touches[0].clientY; _drag = false;
  }, {passive: true});
  wrap.addEventListener('touchend', function(e) {
    var dx = e.changedTouches[0].clientX - sx;
    var dy = e.changedTouches[0].clientY - sy;
    if (Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > 36) {
      _drag = true;
      _slide(track, cntId, stateKey, dx < 0 ? 1 : -1);
    }
  }, {passive: true});
  wrap.addEventListener('mousedown', function(e) { sx = e.clientX; dragging = true; _drag = false; });
  wrap.addEventListener('mouseup', function(e) {
    if (!dragging) return;
    var dx = e.clientX - sx;
    _drag = Math.abs(dx) > 36;
    if (_drag) _slide(track, cntId, stateKey, dx < 0 ? 1 : -1);
    dragging = false;
  });
  wrap.addEventListener('mouseleave', function() { dragging = false; });
}

function _slide(track, cntId, sk, dir) {
  var n = track.children.length;
  if (!n) return;
  carState[sk] = (((carState[sk] || 0) + dir) + n) % n;
  track.style.transform = 'translateX(-' + (carState[sk] * 100) + '%)';
  updateCounter(cntId, carState[sk], n);
}

/* ══════════════════════════════════════════════════════
   MOBILE ACCORDION — build panel content on first open
══════════════════════════════════════════════════════ */
function buildPanel(key) {
  if (builtPanel[key]) return;
  builtPanel[key] = true;
  var cfg   = EXH[key];
  var inner = document.getElementById('panel-inner-' + key);
  inner.innerHTML = '';

  /* carousel */
  var wrap  = document.createElement('div');
  wrap.className = 'carousel-wrap';
  wrap.id = 'mob-car-' + key;
  var track = document.createElement('div');
  track.className = 'carousel-track';
  track.id = 'mob-track-' + key;
  buildTrack(track, cfg.folder, cfg.images);
  wrap.appendChild(track);
  inner.appendChild(wrap);

  /* controls */
  var n = cfg.images.length;
  var ctrl = document.createElement('div');
  ctrl.className = 'carousel-controls';
  ctrl.innerHTML =
    '<span class="carousel-counter" id="mob-cnt-' + key + '">' + (n ? '1 / ' + n : '–') + '</span>' +
    '<div class="carousel-btns">' +
      '<button class="c-btn" onclick="mobMove(\'' + key + '\',-1)">← prev</button>' +
      '<button class="c-btn" onclick="mobMove(\'' + key + '\',1)">next →</button>' +
    '</div>';
  inner.appendChild(ctrl);

  /* audio */
  if (cfg.audio) {
    var ab = document.createElement('div');
    ab.className = 'audio-block';
    ab.innerHTML = '<div class="audio-label">' + cfg.audio.label + '</div>' +
      '<audio controls><source src="' + cfg.audio.src + '" type="audio/mpeg"></audio>';
    inner.appendChild(ab);
  }

  /* text button */
  if (cfg.hasText) {
    var tb = document.createElement('button');
    tb.className = 'text-btn';
    tb.textContent = 'Text';
    tb.onclick = (function(f) { return function() { openTextModal(f); }; })(cfg.folder);
    inner.appendChild(tb);
  }

  carState['mob-' + key] = 0;
  initSwipe(wrap, track, 'mob-cnt-' + key, 'mob-' + key);
}

/* ══════════════════════════════════════════════════════
   ACCORDION TOGGLE
══════════════════════════════════════════════════════ */
function toggleExh(key) {
  if (!isMobile()) { showExh(key); return; }

  if (openPanel && openPanel !== key) {
    document.getElementById('panel-' + openPanel).classList.remove('open');
    openPanel = null;
  }
  var panel = document.getElementById('panel-' + key);
  if (panel.classList.contains('open')) {
    panel.classList.remove('open');
    openPanel = null;
  } else {
    buildPanel(key);
    panel.classList.add('open');
    openPanel = key;
    setTimeout(function() {
      var el = document.getElementById('entry-' + key);
      if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }, 50);
  }
}

/* ══════════════════════════════════════════════════════
   HOME IMAGES
══════════════════════════════════════════════════════ */
function buildHomeImages(containerId) {
  var el = document.getElementById(containerId);
  if (!el || el.dataset.built) return;
  el.dataset.built = '1';
  HOMESCREEN.forEach(function(fn) {
    var img = document.createElement('img');
    img.src = 'Homescreen/' + fn;
    img.alt = '';
    el.appendChild(img);
  });
}

/* Build desktop home on load */
buildHomeImages('home-stream');

/* ══════════════════════════════════════════════════════
   NAVIGATION
══════════════════════════════════════════════════════ */
function hideAll() {
  document.querySelectorAll('.view').forEach(function(v) { v.classList.remove('active'); });
}

function showHome() {
  if (isMobile()) {
    if (openPanel) { document.getElementById('panel-' + openPanel).classList.remove('open'); openPanel = null; }
    buildHomeImages('mobile-home');
    document.getElementById('mobile-home').classList.remove('hidden');
    document.getElementById('mobile-contact').classList.add('hidden');
    return;
  }
  hideAll();
  document.getElementById('view-home').classList.add('active');
  window.scrollTo(0, 0);
}

function showExh(key) {
  hideAll();
  ensureDesktopCarousel(key);
  carState[key] = 0;
  var track = document.getElementById('track-' + key);
  if (track) { track.style.transform = 'translateX(0)'; updateCounter('cnt-' + key, 0, track.children.length); }
  document.getElementById('view-' + key).classList.add('active');
  window.scrollTo(0, 0);
}

function showContact() {
  if (isMobile()) {
    document.getElementById('mobile-home').classList.add('hidden');
    document.getElementById('mobile-contact').classList.remove('hidden');
    return;
  }
  hideAll();
  document.getElementById('view-contact').classList.add('active');
  window.scrollTo(0, 0);
}

/* ══════════════════════════════════════════════════════
   TEXT MODAL — fetches folder/text.txt
══════════════════════════════════════════════════════ */
function openTextModal(folder) {
  var modal   = document.getElementById('text-modal');
  var content = document.getElementById('text-modal-content');
  content.textContent = 'Loading…';
  modal.classList.add('open');
  document.body.style.overflow = 'hidden';
  fetch(folder + '/text.txt')
    .then(function(r) { if (!r.ok) throw 0; return r.text(); })
    .then(function(t) { content.textContent = t; })
    .catch(function() { content.textContent = '(Text not yet available.)'; });
}
function closeTextModal() {
  document.getElementById('text-modal').classList.remove('open');
  document.body.style.overflow = '';
}

/* ══════════════════════════════════════════════════════
   LIGHTBOX
══════════════════════════════════════════════════════ */
function openLightbox(img) {
  if (_drag) return;
  document.getElementById('lightbox-img').src = img.src;
  document.getElementById('lightbox').classList.add('open');
  document.body.style.overflow = 'hidden';
}
function closeLightbox() {
  document.getElementById('lightbox').classList.remove('open');
  document.body.style.overflow = '';
}
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') { closeLightbox(); closeTextModal(); }
});
</script>

</body>
</html>
